<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KorMapChart - Complete Single Example (Normal Mode)</title>
  <style>
    body {
      margin: 0;
      padding: 40px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>
  111
  <div class="container">
    <div id="complete-chart">
    </div>
  </div>

  <script src="KorMapChartES5.js"></script>
  <script>
    // ì§€ì—­ ì½”ë“œ ë§¤í•‘
    const KOR_NAME_TO_CODE = {
      'ì„œìš¸': 'KR-11',
      'ë¶€ì‚°': 'KR-26',
      'ëŒ€êµ¬': 'KR-27',
      'ì¸ì²œ': 'KR-28',
      'ê´‘ì£¼': 'KR-29',
      'ëŒ€ì „': 'KR-30',
      'ìš¸ì‚°': 'KR-31',
      'ì„¸ì¢…': 'KR-50',
      'ê²½ê¸°': 'KR-41',
      'ê°•ì›': 'KR-42',
      'ì¶©ë¶': 'KR-43',
      'ì¶©ë‚¨': 'KR-44',
      'ì „ë¶': 'KR-45',
      'ì „ë‚¨': 'KR-46',
      'ê²½ë¶': 'KR-47',
      'ê²½ë‚¨': 'KR-48',
      'ì œì£¼': 'KR-49',
    };

    // ë©”ì¸ ë°ì´í„°
    const rateData = {
      'ëŒ€êµ¬': 0.93,
      'ì„œìš¸': 0.87,
      'ê´‘ì£¼': 0.87,
      'ìš¸ì‚°': 0.80,
      'ëŒ€ì „': 0.76,
      'ì„¸ì¢…': 0.74,
      'ì¸ì²œ': 0.80,
      'ê²½ê¸°': 0.63,
      'ì œì£¼': 0.61,
      'ë¶€ì‚°': 0.50,
      'ì¶©ë‚¨': 0.40,
      'ì „ë¶': 0.34,
      'ì¶©ë¶': 0.31,
      'ê²½ë¶': 0.22,
      'ê²½ë‚¨': 0.20,
      'ì „ë‚¨': 0.11,
      'ê°•ì›': 0.08,
    };

    // íŒŒì´ì°¨íŠ¸ ë°ì´í„° - í•™êµ êµ¬ì„±
    const schoolData = {
      'ì„œìš¸': [
        { label: 'ì´ˆë“±í•™êµ', data: 45, color: '#ff6384' },
        { label: 'ì¤‘í•™êµ', data: 30, color: '#36a2eb' },
        { label: 'ê³ ë“±í•™êµ', data: 25, color: '#ffce56' }
      ],
      'ê²½ê¸°': [
        { label: 'ì´ˆë“±í•™êµ', data: 50, color: '#ff6384' },
        { label: 'ì¤‘í•™êµ', data: 28, color: '#36a2eb' },
        { label: 'ê³ ë“±í•™êµ', data: 22, color: '#ffce56' }
      ],
      'ë¶€ì‚°': [
        { label: 'ì´ˆë“±í•™êµ', data: 40, color: '#ff6384' },
        { label: 'ì¤‘í•™êµ', data: 35, color: '#36a2eb' },
        { label: 'ê³ ë“±í•™êµ', data: 25, color: '#ffce56' }
      ],
      'ì¸ì²œ': [
        { label: 'ì´ˆë“±í•™êµ', data: 48, color: '#ff6384' },
        { label: 'ì¤‘í•™êµ', data: 29, color: '#36a2eb' },
        { label: 'ê³ ë“±í•™êµ', data: 23, color: '#ffce56' }
      ],
    };

    // ì‚°ì—… êµ¬ì„± ë°ì´í„° (ë„ë„›ì°¨íŠ¸ìš©)
    const industryData = {
      'ê´‘ì£¼': [
        { label: 'ì„œë¹„ìŠ¤ì—…', data: 40, color: '#4bc0c0' },
        { label: 'ì œì¡°ì—…', data: 25, color: '#9966ff' },
        { label: 'ê¸°íƒ€', data: 15, color: '#ff9f40' },
        { label: 'ê¸°íƒ€', data: 15, color: '#ff9f40' },
        { label: 'ê¸°íƒ€', data: 5, color: '#ff9f40' }
      ],
      'ëŒ€ì „': [
        { label: 'ì„œë¹„ìŠ¤ì—…', data: 45, color: '#4bc0c0' },
        { label: 'ì œì¡°ì—…', data: 35, color: '#9966ff' },
        { label: 'ê¸°íƒ€', data: 20, color: '#ff9f40' }
      ],
      'ì œì£¼': [
        { label: 'ì„œë¹„ìŠ¤ì—…', data: 70, color: '#4bc0c0' },
        { label: 'ê´€ê´‘ì—…', data: 20, color: '#9966ff' },
        { label: 'ë†ì—…', data: 10, color: '#ff9f40' }
      ],
      'ìš¸ì‚°': [
        { label: 'ì„œë¹„ìŠ¤ì—…', data: 25, color: '#4bc0c0' },
        { label: 'ì œì¡°ì—…', data: 60, color: '#9966ff' },
        { label: 'ê¸°íƒ€', data: 15, color: '#ff9f40' }
      ],
      'ê°•ì›': [
        { label: 'ì„œë¹„ìŠ¤ì—…', data: 55, color: '#4bc0c0' },
        { label: 'ê´€ê´‘ì—…', data: 30, color: '#9966ff' },
        { label: 'ë†ì—…', data: 15, color: '#ff9f40' }
      ],
    };

    // ëª¨ë“  íŒŒì´ì°¨íŠ¸ ë°ì´í„° í†µí•©
    const allPieData = { ...schoolData, ...industryData };

    (async function() {
      await KorMapChartES5.render(
        KOR_NAME_TO_CODE,           // ì§€ì—­ëª…-ì½”ë“œ ë§¤í•‘
        '#complete-chart',           // ë§ˆìš´íŠ¸ ëŒ€ìƒ
        {
          // ========== í•„ìˆ˜ ì˜µì…˜ ==========
          mode: 'normal',            // ë Œë”ë§ ëª¨ë“œ (í•„ìˆ˜)
          svgUrl: 'south_korea.svg', // SVG íŒŒì¼ ê²½ë¡œ

          // ========== ë°ì´í„° ==========
          data: rateData,            // ë©”ì¸ ë°ì´í„° (ë¹„ìœ¨/ìƒ‰ìƒìš©)
          pieChartData: allPieData,  // íŒŒì´ì°¨íŠ¸ ë°ì´í„°

          // ========== ìƒ‰ìƒ ìŠ¤ì¼€ì¼ ==========
          rates: [0.8, 0.6, 0.4, 0.2],  // ìƒ‰ìƒ êµ¬ê°„ ìž„ê³„ê°’
          colors: [                      // ê° êµ¬ê°„ë³„ ìƒ‰ìƒ
            '#00085A',  // 0.8 ì´ìƒ
            '#1F48FF',  // 0.6~0.8
            '#79a1ee',  // 0.4~0.6
            '#99d9f2',  // 0.2~0.4
            '#D7D7D7'   // 0.2 ë¯¸ë§Œ (í´ë°±)
          ],

          // ========== ë‚´ë¥™ ë„ì‹œ ì²˜ë¦¬ ==========
          innerCities: ['ê´‘ì£¼', 'ëŒ€ì „', 'ì„¸ì¢…', 'ì„œìš¸'],  // hover ì‹œì—ë„ ìµœìƒë‹¨ ìœ ì§€

          // ========== ë§µ ì„¤ì • ==========
          map: {
            width: 500,              // SVG ë„ˆë¹„
            height: 650              // SVG ë†’ì´ (ì˜µì…˜)
          },

          // ========== ë¼ë²¨ ì„¤ì • ==========
          labels: {
            fontSize: 13,            // ë¼ë²¨ ê¸€ìž í¬ê¸°
            strokeWidth: 3,          // ë¼ë²¨ ì™¸ê³½ì„  ë‘ê»˜
            fontWeight: 600,         // ë¼ë²¨ ê¸€ìž êµµê¸°
            color: '#1f2937',        // ë¼ë²¨ ìƒ‰ìƒ
            minWidth: 16,            // ìµœì†Œ ë„ˆë¹„ (ì´ë³´ë‹¤ ìž‘ìœ¼ë©´ ë¼ë²¨ ì—†ìŒ)
            minHeight: 12,           // ìµœì†Œ ë†’ì´

            // ì§€ì—­ë³„ ë¼ë²¨ ìœ„ì¹˜ ì¡°ì •
            offsets: {
              'ê²½ê¸°': [15, 15],      // [x, y] ì˜¤í”„ì…‹
              'ì¸ì²œ': [3, 0],
              'ì¶©ë¶': [-25, -25],
              'ê²½ë¶': [25, -25],
              'ì¶©ë‚¨': [0, 10],
              'ì „ë¶': [0, 10],
              'ì „ë‚¨': [10, 0],
              'ê²½ë‚¨': [10, 10]
            },

            // ========== íŒŒì´ì°¨íŠ¸ ì„¤ì • ==========
            pieChart: {
              position: 'right',     // ê¸°ë³¸ ìœ„ì¹˜ (top/bottom/left/right)

              // ì§€ì—­ë³„ ê°œë³„ ìœ„ì¹˜ ì§€ì •
              positions: {
                'ì„œìš¸': 'top',       // ì„œìš¸ì€ ìœ„
                'ê²½ê¸°': 'bottom',    // ê²½ê¸°ëŠ” ì•„ëž˜
                'ë¶€ì‚°': 'right',     // ë¶€ì‚°ì€ ì˜¤ë¥¸ìª½
                'ì¸ì²œ': 'left',      // ì¸ì²œì€ ì™¼ìª½
                'ì œì£¼': 'bottom',    // ì œì£¼ëŠ” ì•„ëž˜
                'ê´‘ì£¼': 'left',      // ê´‘ì£¼ëŠ” ì™¼ìª½ (ë‚´ë¥™ë„ì‹œ)
                'ëŒ€ì „': 'right',     // ëŒ€ì „ì€ ì˜¤ë¥¸ìª½ (ë‚´ë¥™ë„ì‹œ)
                'ìš¸ì‚°': 'bottom',    // ìš¸ì‚°ì€ ì•„ëž˜
                'ê°•ì›': 'top'        // ê°•ì›ì€ ìœ„
              },

              gap: 12,               // ë¼ë²¨ê³¼ íŒŒì´ì°¨íŠ¸ ê°„ê²©
              radius: 20,            // íŒŒì´ì°¨íŠ¸ ë°˜ì§€ë¦„
              innerRadius: 10,       // ë„ë„› ì°¨íŠ¸ ë‚´ë¶€ ë°˜ì§€ë¦„ (0ì´ë©´ ì¼ë°˜ íŒŒì´)
              strokeWidth: 0.5,      // íŒŒì´ ì¡°ê° í…Œë‘ë¦¬ ë‘ê»˜
              strokeColor: '#ffffff', // íŒŒì´ ì¡°ê° í…Œë‘ë¦¬ ìƒ‰ìƒ

              // ì§€ì—­ë³„ ì¶”ê°€ ì˜¤í”„ì…‹ (ë¯¸ì„¸ ì¡°ì •ìš©)
              offsets: {
                'ì„œìš¸': [0, 0],
                'ì œì£¼': [0, 10],
                'ê´‘ì£¼': [-15, 0],
                'ëŒ€ì „': [10, 0],
                'ê°•ì›': [0, -10]
              }
            }
          },

          // ========== ì´ë²¤íŠ¸ & ì¸í„°ëž™ì…˜ ==========
          events: {
            // ê·¸ë¦¼ìž íš¨ê³¼ ì„¤ì •
            shadow: {
              dx: 0,                 // Xì¶• ì˜¤í”„ì…‹ (0 = ì¤‘ì•™)
              dy: 8,                // Yì¶• ì˜¤í”„ì…‹ (ì–‘ìˆ˜ = í•˜ë‹¨)
              blur: 0,               // ë¸”ëŸ¬ ê°•ë„
              color: '#000000',      // ê·¸ë¦¼ìž ìƒ‰ìƒ
              opacity: 1           // ê·¸ë¦¼ìž ë¶ˆíˆ¬ëª…ë„
            },

            // ê¸°ë³¸ hover ìŠ¤íƒ€ì¼
            hoverStyle: {
              opacity: 0.85,
              cursor: 'pointer'
            },

            // ì§€ì—­ë³„ ì»¤ìŠ¤í…€ hover ìŠ¤íƒ€ì¼
            regionHoverStyles: {
              // ìˆ˜ë„ê¶Œ - ë¹¨ê°„ìƒ‰ í…Œë§ˆ
              'ì„œìš¸': {
                opacity: 0.95,
                stroke: '#dc2626',
                strokeWidth: 3,
                fill: '#fee2e2'      // ë°°ê²½ìƒ‰ ë³€ê²½
              },
              'ì¸ì²œ': {
                opacity: 0.95,
                stroke: '#dc2626',
                strokeWidth: 3,
                fill: '#fee2e2'
              },
              'ê²½ê¸°': {
                opacity: 0.95,
                stroke: '#dc2626',
                strokeWidth: 3,
                fill: '#fee2e2'
              },

              // ì œì£¼/ê°•ì› - ì´ˆë¡ìƒ‰ í…Œë§ˆ
              'ì œì£¼': {
                opacity: 0.9,
                stroke: '#16a34a',
                strokeWidth: 3,
                fill: '#dcfce7'
              },
              'ê°•ì›': {
                opacity: 0.9,
                stroke: '#16a34a',
                strokeWidth: 3,
                fill: '#dcfce7'
              },

              // ë‚¨ë¶€ì§€ì—­ - íŒŒëž€ìƒ‰ í…Œë§ˆ
              'ì „ë‚¨': {
                opacity: 0.85,
                stroke: '#2563eb',
                strokeWidth: 2.5,
                fill: '#dbeafe'
              },
              'ì „ë¶': {
                opacity: 0.85,
                stroke: '#2563eb',
                strokeWidth: 2.5,
                fill: '#dbeafe'
              },
              'ê²½ë‚¨': {
                opacity: 0.85,
                stroke: '#2563eb',
                strokeWidth: 2.5,
                fill: '#dbeafe'
              },
              'ê²½ë¶': {
                opacity: 0.85,
                stroke: '#2563eb',
                strokeWidth: 2.5,
                fill: '#dbeafe'
              },

              // ê´‘ì—­ì‹œ - ë³´ë¼ìƒ‰ í…Œë§ˆ
              'ë¶€ì‚°': {
                opacity: 0.9,
                stroke: '#9333ea',
                strokeWidth: 3,
                fill: '#f3e8ff'
              },
              'ëŒ€êµ¬': {
                opacity: 0.9,
                stroke: '#9333ea',
                strokeWidth: 3,
                fill: '#f3e8ff'
              },
              'ê´‘ì£¼': {
                opacity: 1,
                stroke: '#9333ea',
                strokeWidth: 3,
                fill: '#f3e8ff'
              },
              'ëŒ€ì „': {
                opacity: 1,
                stroke: '#9333ea',
                strokeWidth: 3,
                fill: '#f3e8ff'
              },
              'ìš¸ì‚°': {
                opacity: 0.9,
                stroke: '#9333ea',
                strokeWidth: 3,
                fill: '#f3e8ff'
              },

              // ì¶©ì²­ë„ - ì£¼í™©ìƒ‰ í…Œë§ˆ
              'ì¶©ë‚¨': {
                opacity: 0.85,
                stroke: '#ea580c',
                strokeWidth: 2.5,
                fill: '#fed7aa'
              },
              'ì¶©ë¶': {
                opacity: 0.85,
                stroke: '#ea580c',
                strokeWidth: 2.5,
                fill: '#fed7aa'
              },
              'ì„¸ì¢…': {
                opacity: 1,
                stroke: '#ea580c',
                strokeWidth: 3,
                fill: '#fed7aa'
              }
            },

            // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
            onRegionEnter: (name, el, data) => {
              const pieData = allPieData[name];
              const rate = (data * 100).toFixed(1);

              if (pieData) {
                const summary = pieData.map(d =>
                  `${d.label}:${d.data}%`
                ).join(', ');
              }
            },

            onRegionLeave: (name, el, data) => {
              // Leave ì´ë²¤íŠ¸ (í•„ìš”ì‹œ í™œìš©)
            },

            onRegionClick: (name, el, data) => {
              const rate = (data * 100).toFixed(1);
              const pieData = allPieData[name];

              let message = `ðŸ—ºï¸ ${name} í´ë¦­!\ní™•ë³´ìœ¨: ${rate}%`;

              if (pieData) {
                message += '\n\nðŸ“Š ì„¸ë¶€ ë°ì´í„°:';
                pieData.forEach(d => {
                  message += `\nâ€¢ ${d.label}: ${d.data}%`;
                });
              }

              // alert(message);
            }
          }
        }
      );
    })();
  </script>
</body>
</html>